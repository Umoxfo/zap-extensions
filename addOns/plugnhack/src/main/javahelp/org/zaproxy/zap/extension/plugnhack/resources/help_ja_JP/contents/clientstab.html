<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>
Plug-n-Hack クライアントタブ
</title>
</head>
<body>
<h1>Plug-n-Hack クライアントタブ</h1>
<p>
	Plug-n-Hackは、HTML5 アプリケーションのテストを支援するために、クライアント (ブラウザ) イベントを監視できるようにします。<br>
可能な限り幅広いモダンなブラウザをサポートするために、これはブラウザに返されるレスポンスに JavaScript を注入することによって実装されます。<br>
レスポンスを変更することを意味するため、この機能は手動で有効にする必要があります。 
</p>
<p>
	クライアントイベントを受信するには：
	<ul>
	<li>ZAPを経由してプロキシしながら、監視したいページにアクセスします</li>
	<li>サイトツリーの関連ノードで右クリックし、「クライアントの監視」 -> 「サブツリーを含める」を選択します</li>
	<li>ブラウザでそれらのページを強制的にリロードします</li>
	<li>クライアントイベント (postMessage, click, mouseover など) がこのタブにリストされます - 選択して詳細を表示します。</li>
	</ul>
</p>
<p>
	注入された JavaScript は ZAP にハートビートを送信するので、ZAP はこのタブにすべての 'active' クライアントを表示できます。<br>
ここで 'active' クライアントとは、ブラウザタブで現在開かれているページです。<br>
元のクライアントがアクティブである限り、右クリックメニュー項目で任意のイベントを編集して再送信できます。<br>
</p>
<p>
	postMessage をオンザフライでインターセプトして変更することもできます。<br>
トップレベルツールバーの ‘break on all requests’ ボタンが選択されている場合、クライアントメッセージがインターセプトされます。<br>
クライアントタブのボタンでカスタムクライアントブレークポイントを設定することもできます。<br>
<br>
他のメッセージと同じように postMessage をファズできます - リクエストタブでファズしたい文字列をハイライトし、右クリックして “Fuzz” を選択します。<br>
このオプションは、関連ブラウザがそのページを開いている場合にのみ利用可能で、PnH がペイロードをブラウザに送信するためです。<br>
標準の ‘XSS’ ペイロードを使用して DOM XSS 脆弱性を検出できますが、成功したかどうかを確認するために UI を手動で監視する必要があります。<br>
<br>
PnH は “PlugnHack DOM XSS Oracle” というカスタムファジングファイルも追加します。<br>
このファイルは OWASP XSS チートシートに基づき、ページに注入された ‘xss’ JavaScript メソッドを呼び出します。 <br>
このメソッドは ZAP API を呼び出し、UI で関連攻撃をフラグ付けします - これらは確認された DOM XSS 脆弱性ですが、 (いつものように) ZAP のようなツールなしでテスト中のアプリケーションで本当に悪用可能かを確認すべきです。<br>

</p>

</body>
</html>
