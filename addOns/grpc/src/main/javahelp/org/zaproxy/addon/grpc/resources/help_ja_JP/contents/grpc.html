<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
    <TITLE>
        gRPC サポート
    </TITLE>
</HEAD>
<BODY>
<h1>gRPC サポート</h1>
このアドオンを使用すると、gRPC エンドポイントを検査および攻撃し、Protobuf メッセージをデコードおよびエンコードできます。

<p>このアドオンはまだ初期段階にあるため、機能の範囲は限定的です。 ただし、既存のZAP機能と組み合わせることで、gRPC エンドポイントをさまざまな方法で悪用 (abuse) できます。</p>

<h2 >gRPC アドオンの紹介</h2>
<p>このアドオンは、以下のツールを提供することでテストプロセスを簡素化することを目的としています：</p>
<ul>
    <li><strong>エンコードおよびデコード</strong>: テスト目的で Protobuf メッセージを簡単にエンコードおよびデコードします。</li>
    <li><strong>gRPC エンドポイントのテスト</strong>: 既存のZAP機能と組み合わせることで、gRPC エンドポイントをさまざまな方法で悪用 (abuse) できます。</li>
</ul>

<h2 id=>gRPC デコードメッセージの表示方法</h2>
<p>メッセージビュー パネルで、ボディを gRPC に変更します。</p>
<img src="../../common/images/grpc-message-panel.png" alt="gRPC レスポンスボディ" width="600"/>


<h2>デコードされた Protobuf メッセージの理解</h2>
<p>Protobuf メッセージをデコードする際には、デコードされたデータの構造を理解することが重要です。 Protobuf メッセージはフィールドで構成され、それぞれにフィールド番号、ワイヤタイプ、および値があります。 これらのコンポーネントについて詳しく説明します：</p>
<h3 >フィールド構造</h3>
<ul>
    <li><strong>フィールド番号</strong>: Protobuf メッセージ内の各フィールドには一意のフィールド番号が割り当てられます。 この番号は、メッセージ内の異なるフィールドを識別および区別するために使用されます。</li>
    <li><strong>ワイヤタイプ</strong>: ワイヤタイプは、フィールドの値がどのようにエンコードされるかを決定し、フィールドに格納されるデータの種類に関する情報を提供します。</li>
    <li><strong>値</strong>: フィールドに含まれる実際のデータで、そのワイヤタイプに従ってエンコードされます。</li>
</ul>
<h2 >以下の例を使用してデコードされた Protobuf メッセージ構造を理解しましょう</h2>
<p>これはZAPが受信したバイナリテキストの Base64 エンコード形式です。</p>
<p>AAAAAIYJZCZMzMzcXkAVrseHQhi5YCDqrcDlJCixqAM1QEIPADOQSGVsbG8sIFByb3RvYnVmIUJMCgsxMjMgTWFpbiBTdBIGT X1DaXR5GgUxMjMONSIuCgtIZWxsbyBXb3JsZBIITXkgV29ybGQaCllvdXIgV29ybGQiCU91ciBXb3JsZEjqrcDLJA==</p>
<p>左側には、バックエンドの gRPC エンドポイントから取得された元のメッセージがあります。 右側には、上記のエンコードされたテキストから ZAP gRPC アドオンによって処理されたデコードされたメッセージがあります。</p>
<p><img src="../../common/images/original-message.png" alt="元のメッセージ" width="400"/>   <img src="../../common/images/decoded-message.png" alt="デコードされたメッセージ" width="400"/></p>
<ul>
    <li>メッセージ内の各フィールドは「フィールド番号:ワイヤタイプ::値」として表されます。</li>
    <li>各キー/値ペアは新しい行から開始します。</li>
    <li>追加の指定子は、double (<code>1D</code>)、float (<code>5F</code>)、およびネストされたメッセージ (<code>2N</code>) にのみ使用されます。</li>
    <li>ワイヤタイプ <code>2</code> の場合、値はネストされたメッセージ (<code>2N</code>) を除いて二重引用符で囲む必要があります。</li>
    <li>ネストされたメッセージ (<code>2N</code>) の場合：<ul>
        <li>フィールド番号とワイヤタイプ (<code>fieldNumber:2N::</code>) の後に、開き中括弧を置き、新しい行からネストされたメッセージフィールドを追加します。</li>
        <li>ネストされたメッセージは、別の新しい行に閉じ中括弧で閉じます。</li>
    </ul>
    </li>
    <li>不要なスペースを使用しないでください。</li>
</ul>
<h2 >デコードされた Protobuf メッセージの書き込みおよび編集</h2>
<p>このデコードされたメッセージは、リクエスターおよび手動リクエストエディターウィンドウでのみ編集できます。値を含む (&quot;::&quot;) の後の部分を単に変更するか、上記のルールに従って新しいフィールドを書き込みます。</p>
<p><img src="../../common/images/edit-demo.gif" alt="編集デモ"></p>


<h2>関連情報</h2>
<table>
    <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td><a href="variant.html">gRPC バリアント</a></td>
        <td>gRPC バリアントに関する情報</td>
    </tr>
    <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td><a href="websocket.html">gRPC WebSocket</a></td>
        <td>gRPC WebSocket サポートに関する情報</td>
    </tr>

</table>

</BODY>
</HTML>