<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>
自動化フレームワーク
</TITLE>
</HEAD>
<BODY>
<H1>自動化フレームワーク</H1>
このアドオンは、ZAPを簡単かつ柔軟な方法で自動化できるフレームワークを提供します。 

<H3><a name="command-line-options">コマンドラインオプション</a></H3>

以下のコマンドラインオプションを提供します：
<ul>
<li>-autorun &lt;source&gt;		ファイルまたはURLから指定された自動化ジョブを実行する。
<li>-autogenmin &lt;filename&gt;		主要なパラメーターを含む自動化ファイルのテンプレートを生成する。
<li>-autogenmax &lt;filename&gt;		すべてのパラメーターを含む自動化ファイルのテンプレートを生成する。
<li>-autogenconf &lt;filename&gt;	現在の設定を使用した自動化ファイルのテンプレートを生成する。
</ul>

<H3><a name="exit-codes">終了コード</a></H3>
<code>-autorun</code>オプションがZAPの<code>-cmd</code>オプションと共に使用される場合、ZAPの終了値はデフォルトで以下のように設定されます： 
<ul>
<li>0 - プランがエラーまたは警告なしで正常に完了しました
<li>1 - プランが1つ以上のエラーを報告しました
<li>2 - プランがエラーは報告しませんでしたが、1つ以上の警告を報告しました
</ul>
これらの値は、<a href="job-exitstatus.html">exitStatus</a>ジョブによって上書きできます。<br>
エラーまたは警告に遭遇した後にプランが完了するかどうかは、<a href="environment.html">environment</a>で使用される設定によって異なります。

<H3><a name="usage">使用方法</a></H3>
自動化フレームワークを使用するには：
<ol>
<li><code>-autogen*</code>コマンドラインオプションのいずれかを使用して、自動化ファイルのテンプレートを生成します
<li>要件に合わせてファイルを編集します
<li><code>-autorun</code>コマンドラインオプションを使用してファイルを実行します。例: <code>./zap.sh -cmd -autorun config.yaml</code> 
</ol>

<strong>注:</strong> ジョブはプラン内に記述された順序 (上から下) で実行されます。
<p>
ほとんどの場合、ZAP デスクトップが表示されず、ファイルで定義されたジョブの生成または実行が完了するとすぐにZAPが終了するように、 <code>-cmd</code>コマンドラインオプションも併用することを推奨します。
ただし、問題のデバッグに役立てるため、ZAP デスクトップを使用して自動化フレームワークジョブを実行することもできます。

<H2><a name="authentication">認証</a></H2>
自動化フレームワークは、ZAPでサポートされているすべての<a href="authentication.html">認証</a>メカニズムをサポートしています。

<H2><a name="gui">GUI</a></H2>
<a href="gui.html">GUI</a>は開発中であり、ますます多くの機能を提供しています。

<H2><a name="options">オプション</a></H2>
<a href="options.html">自動化オプション</a>画面では、特定のオプションを設定できます。

<H2><a name="api">API</a></H2>
このアドオンは以下のAPIエンドポイントを提供します：
<ul>
<li>Action: endDelayJob() - 現在実行中の遅延ジョブがあれば終了します</li>
<li>Action: runPlan(filePath) - 指定されたファイル内のプランを読み込み、非同期で実行し、planIdを返します</li>
<li>Action: stopPlan(planId) - planIdで識別される実行中のプランを停止します</li>
<li>View: planProgress(planId) - 指定されたplanIdの進行状況の詳細を返します</li>
</ul>
ZAP デスクトップが使用されている場合、問題の診断を容易にするため、プランはGUIにも表示されます。
<p>
なお、認証が処理されている場合など、一部のジョブはすぐに停止しない場合があります。

<H2><a name="environment">環境</a></H2>
ファイルの <a href="environment.html">environment</a> セクションでは、残りのジョブが操作できるアプリケーションを定義します。

<H2><a name="file-paths">ファイルパス</a></H2>
すべてのファイルおよびディレクトリパスは、絶対パスまたはプランを含むディレクトリからの相対パスのいずれかを使用できます。 
 移植性のため、相対パスを推奨します。

<H2><a name="jobs">ジョブ</a></H2>
<p>
このアドオンでは以下の自動化ジョブがサポートされています：
<ul>
<li><a href="job-ascanconfig.html">activeScan-config</a> - アクティブスキャナーを設定します</li>
<li><a href="job-ascanpolicy.html">activeScan-policy</a> - アクティブポリシーを作成します</li>
<li><a href="job-addons.html">addOns</a> - アドオン管理、現在は非推奨です</li>
<li><a href="job-delay.html">delay</a> - 指定された期間または特定の条件が満たされるまでプランを一時停止します</li>
<li><a href="job-requestor.html">requestor</a> - 対応するターゲットに送信する特定のリクエストを作成します</li>
<li><a href="job-ascan.html">activeScan</a> - アクティブスキャナーを実行します</li>
<li><a href="job-exitstatus.html">exitStatus</a> - スキャン結果に基づいてZAPの終了コードを設定します</li>
</ul>

<H3><a name="gen-options">一般的なジョブオプション</a></H3>

以下のオプションは、自動化プランまたは<a href="gui.html">GUI</a>を介して、すべてのジョブに適用できます：

<ul>
<li><code>enabled</code> - 有効になっているジョブのみが実行されます。
<li><code>alwaysRun</code> - このオプションが設定されている有効なジョブは、プランが早期に終了した場合でも実行されます。
</ul>

<H3>ジョブ順序の重要性</H3>
ジョブの順序は関連性があり重要です。 例えば： 
<ul>
  <li>あらゆる種類のスパイダリングやインポートの前に passiveScan-wait ジョブを配置しても意味がありません</li>
  <li>パッシブまたはアクティブスキャンによってアラートが生成された後に alertFilter ジョブを設定しても、それらのコンポーネントが以前のジョブで発生させたアラートには効果がありません</li>
</ul>

<p>
<a href="tests.html">ジョブテスト</a>をジョブに追加して、ジョブが期待どおりに実行されたかどうかを確認できます。
<p>

このフレームワークはプラグイン可能であり、他のアドオンが他のジョブのサポートを追加できます。より完全なリストについては、<a href="https://www.zaproxy.org/docs/automate/automation-framework/">自動化フレームワーク</a>のWebサイトページを参照してください。
<p>
'min' および 'max' テンプレートには、フィールドに関する詳細情報を提供するコメントが含まれています。
</BODY>
</HTML>

