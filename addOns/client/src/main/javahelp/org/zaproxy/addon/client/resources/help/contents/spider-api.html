<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>
Client Side Integration - Client Spider API
</TITLE>
</HEAD>
<BODY>
<H1>Client Side Integration - Client Spider API</H1>

This add-on adds various API endpoints to allow you to control the Client Spider programmatically.
<p>
The API is accessible via <code>clientSpider</code> API prefix.

<H2>Views</H2>
<ul>
<li><code>status (scanId*)</code>: Gets the status of the spider scan. Returns an integer between 0 and 100 indicating current progress.</li>
</ul>

<H2>Actions</H2>
<ul>
<li><code>scan (browser url contextName userName subtreeOnly maxCrawlDepth pageLoadTime numberOfBrowsers scopeCheck)</code>: Runs the Client Spider against the given URL and/or context. Returns the scanId.</li>
<li><code>stop (scanId*)</code>: Stops a Client Spider scan.</li>
</ul>

<H2>Parameters</H2>
<ul>
<li><code>browser</code>: The browser to use for the scan, e.g. 'firefox-headless'. If not specified, uses Firefox Headless.</li>
<li><code>url</code>: The URL to start the scan at. If not specified and a context is set, the first URL in the context will be used.</li>
<li><code>contextName</code>: The name of the context to scan.</li>
<li><code>userName</code>: The name of the user to run the scan as. The user must exist in the specified context.</li>
<li><code>subtreeOnly</code>: If set to 'true', the spider will only scan URLs under the specified URL. Default: 'false'.</li>
<li><code>maxCrawlDepth</code>: The maximum depth the spider should crawl, where 0 is unlimited. Defaults to client options.</li>
<li><code>pageLoadTime</code>: The time in seconds to wait for a page to load. Defaults to client options.</li>
<li><code>numberOfBrowsers</code>: Number of Browser Windows to Open (concurrency). Integer, defaults to client options.</li>
<li><code>scopeCheck</code>: Scope Check mode, either <code>FLEXIBLE</code> (default) or <code>STRICT</code>.</li>
<li><code>scanId</code>: The ID of the scan to query or manage.</li>
</ul>

<H2>Examples</H2>
<H3>Start a scan:</H3>
<pre><code>
https://zap/JSON/clientSpider/action/scan/?url=https://example.com&maxCrawlDepth=5&pageLoadTime=30&numberOfBrowsers=1&scopeCheck=STRICT
</code></pre>

<H3>Check status:</H3>
<pre><code>
https://zap/JSON/clientSpider/view/status/?scanId=1
</code></pre>

<H3>Stop a scan:</H3>
<pre><code>
https://zap/JSON/clientSpider/action/stop/?scanId=1
</code></pre>

</BODY>
</HTML> 