<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>
Revisit
</title>
</head>
<body>
<h1>Revisit</h1>
<p>
ZAPでテストしたアプリケーションを、過去の特定の時点の状態で閲覧したいと思ったことはありませんか？例えば、そのアプリケーションにアクセスできなくなった後や、変更が加えられた後など。<br>
そのような場合に、このアドオンが役立ちます！
</p>
<p>
このアドオンを使用すると、リクエストをサイトに転送する代わりに、指定した日時の範囲内でZAPの履歴からコンテンツを返すようZAPに指示できます。<br>
これにより、アクセスできなくなったWebサイトを、実際にアクセスしているかのように閲覧および使用できます。<br>
また、特定の期間にどのように表示されていたかを確認できるため、アプリケーションがその後変更された場合に便利です。<br>
<br>
ZAPの履歴からページを返す際、これらのページがZAPから生成されていることを視覚的に示すために、HTMLページにフローティングフッターが挿入されます。<br>
ZAPは、一致するものが見つかる限り、GETリクエストとPOSTリクエストの両方の結果として記録されたページを返します。<br>
ページが一致するのは、すべてのURLパラメーターとPOSTパラメーターが同じ場合のみです。ただし、パラメーターの順序と既知のCSRFトークンは比較対象から除外されます。<br>
履歴内に一致するページが見つからない場合は、カスタム404ページが返されます。このページには、同じURLが異なるパラメーターで呼び出された履歴や、指定期間外に記録された同じページへのリンクが含まれます。<br>
<br>
このアドオンは、サイトツリーに右クリックメニューを追加します：
</p>
<h3>Revisitを有効にする</h3>
選択すると、使用する開始時刻と終了時刻を尋ねるポップアップが表示されます。<br>
開始時刻は、デフォルトでセッション内の最初のリクエストの時刻になります。<br>
終了時刻は、デフォルトでセッション内の最後のリクエストの時刻になります。<br>
時刻要素 (例:「月の日」「時」「分」など) のいずれかが変更されていない場合、それらの要素は無効化されます。<br>
ダイアログのOKボタンが押されると、選択されたサイトでRevisit機能が有効になり、サイトツリーのサイトノードに「カレンダー」アイコンが追加されます。

<h3>Revisitを無効にする</h3>
選択すると、選択されたサイトでRevisit機能が無効になります。 

<h2>API</h2>
このアドオンは以下のAPIエンドポイントをサポートしています：<br><br>
revisit / view / revisitList: Revisitが有効になっているサイトのリストを返します<br>
revisit / action / revisitSiteOn: 指定されたサイトでRevisitを有効にします。日付は次の形式を使用する必要があります: "yyyy/MM/dd HH:mm:ss"<br> 
revisit / action / revisitSiteOff: 指定されたサイトでRevisitを無効にします 

</body>
</html>
