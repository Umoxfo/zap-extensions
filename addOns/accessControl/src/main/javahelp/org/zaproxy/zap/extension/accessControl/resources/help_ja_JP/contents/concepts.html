<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>
        アクセスコントロールテスト
    </title>
</head>
<body>
<h1>アクセスコントロールテスト</h1>

<p>
    このアドオンを使用すると、Webアプリケーションのどの部分がどのユーザーに利用可能かを比較し、アクセスコントロールテストを実施し、潜在的なアクセスコントロールの問題を特定できます。 アクセスルールの設定が可能で、権限のないクライアントがアクセス可能なWebアプリケーションのセクションを特定するための完全な攻撃を実行します。
</p>

<p>
    このアドオンに関連する2つの主要な概念として、<b>アクセスルール</b>と<b>テスト手順</b>があります。.
</p>

<h2>アクセスルール</h2>

<p>
    潜在的なアクセスコントロールの問題を特定するには、ZAPはWebアプリケーションのどの部分がどのユーザーによってアクセスされるべきかを知る必要があります。 ZAPでは、これらのルールを<i>アクセスルール</i>と呼び、一般的に「<i>ページAはユーザーXによってアクセスされるべき/されるべきでない</i>」という意味を持ちます。
</p>

<p>ルールはコンテキストに対して設定され、そのコンテキストの各ユーザーについて、各サイトノード (Webページ) は次のいずれかの値に関連付けられます：</p>
<ul>
    <li><b>許可</b> - リソースはルールが参照するユーザーによってアクセス<b>できる</b></li>
    <li><b>拒否</b> - リソースはルールが参照するユーザーによってアクセスされる<b>べきでない</b></li>
    <li><b>不明</b> - リソースがルールが参照するユーザーにとってアクセス可能であるべきか否かについて<b>情報がない</b>
    </li>
</ul>

<p>
    アクセスルール定義プロセスを簡素化するため、ZAPはURLのツリーベース構造を利用しています。
    ルールを分析する際、特定のルールが定義されていない場合、各ノードに対してURL内の親に基づいて一致するルールを検出する推論アルゴリズムが使用されます。 つまり、アクセスルールを設定する際、サブツリー全体に対して明示的に設定する必要があるのは1つのルールのみで、他のノードのルールは推論されます。 詳細については、アクセスコントロール <a href="contextOptions.html">コンテキストオプション</a>のヘルプページを参照してください。</td>
</p>

<h2>テスト手順</h2>

<p> 全体として、Webアプリケーションのアクセスコントロールテストを完全に実行するには、次の手順に従う必要があります：</p>
<ul>
    <li>テスト実施者はユーザーのセットとその認証方法を定義します。
    </li>
    <li>テスト実施者は (セッションプロパティの認可パネル経由で) ZAPが権限のないリクエストを識別する方法を定義します。
    </li>
    <li>Webアプリケーションは手動またはスパイダー経由で探索されます。</li>
    <li>テスト実施者はコンテキストに関連付けられた各ユーザーのアクセスルールを定義し、基本的にWebアプリケーションのどの部分がどのユーザーによってアクセスされるべきかをZAPに知らせます。
    </li>
    <li>ZAPによって「攻撃」が実行され、各ユーザーの視点からWebアプリケーションのすべてのURLへのアクセスが試行されます。
    </li>
    <li>対応するステータスタブに結果が表示され、どのページがどのユーザーによって正常にアクセスされたかが示され、アクセスルールに従わなかったケースがマークされます。
    </li>
</ul>
<strong>注:</strong> アクセスコントロールテストは <code>セーフ</code> モードでは許可されず、コンテキストがスコープ内にない場合は <code>プロテクト</code> モードでも許可されません。

<h2 id="alerts">アラート</h2>

このアドオンによって次のアラートが発生する可能性があります：

<h3 id="id-10101">アクセスコントロールの問題 - 不適切な認証</h3>

    不十分な認証は、Webサイトが攻撃者に対して適切な認証を行わずに機密性の高いコンテンツや機能へのアクセスを許可する場合に発生します。 Webベースの管理ツールは、機密性の高い機能へのアクセスを提供するWebサイトの良い例です。 
    特定のオンラインリソースによっては、これらのWebアプリケーションは、ユーザーの身元を適切に確認することなく直接アクセス可能であってはなりません。
    <p>
    最新のコード: <a href="https://github.com/zaproxy/zap-extensions/blob/main/addOns/accessControl/src/main/java/org/zaproxy/zap/extension/accessControl/AccessControlScannerThread.java">AccessControlScannerThread.java</a><br>
アラートID: <a href="https://www.zaproxy.org/docs/alerts/10101/">10101</a>

<h3 id="id-10102">アクセスコントロールの問題 - 不適切な認可</h3>

不十分な認可は、アプリケーションがユーザーがセキュリティポリシーに沿った方法で機能を実行したりデータにアクセスしたりしていることを確認するための適切な認可チェックを実行しない場合に発生します。 認可手続きは、ユーザー、サービス、またはアプリケーションが何を実行できるかを強制する必要があります。 ユーザーがWebサイトに認証されたとしても、必ずしもユーザーがすべてのコンテンツと機能に完全にアクセスできるべきであるとは限りません。
    <p>
    最新のコード: <a href="https://github.com/zaproxy/zap-extensions/blob/main/addOns/accessControl/src/main/java/org/zaproxy/zap/extension/accessControl/AccessControlScannerThread.java">AccessControlScannerThread.java</a>
    <br>
    アラートID: <a href="https://www.zaproxy.org/docs/alerts/10102/">10102</a>.

<h2>API</h2>

このアドオンは次のAPIエンドポイントを公開しています：

<h3>アクション</h3>
	<h4>scan</h4>
	指定されたコンテキストIDとユーザーID (IDのカンマ区切りリスト可) でアクセスコントロールスキャンを開始します。 
	（オプションパラメーター: 認証されていないユーザーを含めるかどうかを識別するブール値 (デフォルトはfalse)、アラートを発生させるかどうかを識別するブール値 (デフォルトはtrue)、およびアラートのリスクレベル (デフォルトはHigh)。）[<strong>注: </strong>これは、アクセスコントロールルールが事前にZAP GUIを介して確立され、必要なコンテキストがエクスポート/インポートされていることを前提としています。]

	<h4>writeHTMLreport</h4>
	指定されたコンテキストIDのアクセスコントロールレポートを生成し、提供されたファイル名 (パス) に基づいて保存します。

<h3>ビュー</h3>
	<h4>getScanProgress</h4>
	指定されたコンテキストIDのアクセスコントロールスキャンの進行状況 (整数、パーセント表記) を取得します。

	<h4>getScanStatus</h4>
	指定されたコンテキストIDのアクセスコントロールスキャンのステータス (説明文字列) を取得します。

<h2>関連情報</h2>
<table>
    <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td>
            <a href="tab.html">アクセスコントロールテストタブ</a></td>
        <td>アドオンが使用するステータスタブの説明</td>
    </tr>
    <tr>
        <td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td>
            <a href="contextOptions.html">アクセスコントロールコンテキストオプション </a></td>
        <td>関連するコンテキストオプションについて学ぶ</td>
    </tr>
</table>

</body>
</html>
